<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>shopify.resources documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Shopify 0.1.0-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="shopify.auth.html"><span>shopify.auth</span></a></li><li><a href="shopify.friend.html"><span>shopify.friend</span></a></li><li class="current"><a href="shopify.resources.html"><span>shopify.resources</span></a></li><li><a href="shopify.resources.client.html"><span>shopify.resources.client</span></a></li><li><a href="shopify.resources.names.html"><span>shopify.resources.names</span></a></li><li><a href="shopify.resources.routes.html"><span>shopify.resources.routes</span></a></li><li><a href="shopify.util.html"><span>shopify.util</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="shopify.resources.html#var-create-request"><span>create-request</span></a></li><li><a href="shopify.resources.html#var-delete-request"><span>delete-request</span></a></li><li><a href="shopify.resources.html#var-extract-kicker-args"><span>extract-kicker-args</span></a></li><li><a href="shopify.resources.html#var-get-all"><span>get-all</span></a></li><li><a href="shopify.resources.html#var-get-count-request"><span>get-count-request</span></a></li><li><a href="shopify.resources.html#var-get-list-request"><span>get-list-request</span></a></li><li><a href="shopify.resources.html#var-get-one-request"><span>get-one-request</span></a></li><li><a href="shopify.resources.html#var-get-shop"><span>get-shop</span></a></li><li><a href="shopify.resources.html#var-persisted%3F"><span>persisted?</span></a></li><li><a href="shopify.resources.html#var-save-request"><span>save-request</span></a></li><li><a href="shopify.resources.html#var-update-request"><span>update-request</span></a></li><li><a href="shopify.resources.html#var-with-opts"><span>with-opts</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>shopify.resources documentation</h2><pre class="doc">Functions for making requests against a shop's authenticated API.
</pre><div class="public" id="var-create-request"><h3>create-request</h3><div class="usage"></div><pre class="doc">Takes a keyword `resource-type` and a map of `attrs`, and returns a partial request map for creating a resource member.
</pre></div><div class="public" id="var-delete-request"><h3>delete-request</h3><div class="usage"></div><pre class="doc">Returns a partial request map to delete a resource member.
</pre></div><div class="public" id="var-extract-kicker-args"><h3>extract-kicker-args</h3><div class="usage"><code>(extract-kicker-args args)</code></div><pre class="doc">Used by the kicker functions to parse argument lists. The most verbose form takes a resource type keyword, a map of either params or attributes, and a map of request options:
  
    (def auth {:shop &quot;foo.myshopify.com&quot;
               :access-token &quot;70bc2f19efa5129f202e661ac6fd38f3&quot;})
    (get-list :products {:limit 2} auth)

If you only provide one map, it's assumed to be the params/attributes, so you'll need to provide authentication with `with-opts`:

    (with-opts auth
      (get-list :products {:limit 2}))

If you don't give a keyword as the first argument, the function will look for the resource type under a `:shopify.resources/type` key in the params/attributes map. This key is present in all resource attribute maps returned by the library, so you can chain together reading and writing operations conveniently like so:

    (with-opts auth
      (-&gt; (get-one :page {:id 99})
          (update-in [:title]
                     clojure.string/upper-case)
          (update-in [:body-html]
                     #(clojure.string/replace % &quot;.&quot; &quot;!&quot;))
          save!))</pre></div><div class="public" id="var-get-all"><h3>get-all</h3><div class="usage"><code>(get-all &amp; args)</code></div><pre class="doc">Eagerly gets _all_ the resources described by the arguments in parallel. Returns a sequence which is a lazy concatenation of all pages.
</pre></div><div class="public" id="var-get-count-request"><h3>get-count-request</h3><div class="usage"><code>(get-count-request resource-type params)</code></div><pre class="doc">Returns a partial request map to get the count of the given resource/params.
</pre></div><div class="public" id="var-get-list-request"><h3>get-list-request</h3><div class="usage"></div><pre class="doc">Returns a partial request map to get a collection of the given resource type with the given params.
</pre></div><div class="public" id="var-get-one-request"><h3>get-one-request</h3><div class="usage"></div><pre class="doc">Returns a partial request map to get a member of the given resource with the given attributes.
</pre></div><div class="public" id="var-get-shop"><h3>get-shop</h3><div class="usage"><code>(get-shop &amp; [request-opts])</code></div><pre class="doc">A convenience function to get the singleton shop resource.
</pre></div><div class="public" id="var-persisted%3F"><h3>persisted?</h3><div class="usage"></div><pre class="doc">Returns true if the given attributes appear to refer to a member which already exists on the server.
</pre></div><div class="public" id="var-save-request"><h3>save-request</h3><div class="usage"></div><pre class="doc">Delegates to `create-request` if the attributes are new, or `update-request` if they're persisted.
</pre></div><div class="public" id="var-update-request"><h3>update-request</h3><div class="usage"></div><pre class="doc">Returns a partial request map to update a member of the given resource with the given attributes.
</pre></div><div class="public" id="var-with-opts"><h3>with-opts</h3><h4 class="macro">macro</h4><div class="usage"><code>(with-opts opts &amp; exprs)</code></div><pre class="doc">A convenience macro to define the same base request options for any request to the Shopify API. `opts` would most often be an auth map, but it could include any default options for the request.
</pre></div></div></body></html>